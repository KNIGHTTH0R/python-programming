<script>
    function visualize() {

        var val = document.getElementById("country").value;
        var opts = document.getElementById('country-list').childNodes;
        for (var i = 0; i < opts.length; i++) {
            if (opts[i].value === val) {
                // An item was selected from the list!
                var value = opts[i].getAttribute('data-value')

               // location.href = Flask.url_for("chart.images", {"location": value})
                //document.getElementById("summary").innerHTML=Flask.url_for("chart.images", {"location": value})

                location.href = Flask.url_for("chart.html_chart", {"location": value})
                document.getElementById("summary").innerHTML=Flask.url_for("chart.html_chart", {"location": value})
                break;
            }
        }
    }


</script>
<h3>Search by location</h3>
<label for="country">What's your favorite location?</label>
<input type="search" id="country" onfocus="this.value=''" name="country" list="country-list"
       onchange="visualize()" placeholder="India">
<datalist id="country-list" onchange="visualize()">
    {% for key,value in map.items() %}
    <option data-value="{{key}}">{{value}}</option>
    {% endfor %}
</datalist>
<button onclick="visualize()" >Submit</button>
